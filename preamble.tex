%% preamble.tex
%% Copyright 2021 Santtu Söderholm
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
%
% The Current Maintainer of this work is Santtu Söderholm.
%
% This work consists of the files main.tex, titlepage.tex and preamble.tex.

% Fonttiasetuksia
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
% Tavutuksia
\usepackage[finnish, main=english]{babel}
% Parnneltu matikkapaketti
\usepackage{mathtools}
% Paperikokoasetuksia
\usepackage{geometry}
% Matematiikkasymboleita
\usepackage{amssymb}
% Vähemmän hienoja lauseympäristöjä
\usepackage{amsthm}
\usepackage{thmtools}
% Ei sisennettyjä kappaleita
\usepackage{parskip}
% Robustimpi komentosyntaksi
\usepackage{xparse}
% Kuvia
\usepackage{tikz}
\usetikzlibrary{arrows, automata, calc}
% TikZ loads xcolor
\definecolor{taupurple}{RGB}{78,0,148}
% Taulukoita
\usepackage{tabularx}
\usepackage{booktabs}
\newcolumntype{L}{>{$}l<{$}}
\newcolumntype{C}{>{$}c<{$}}
\newcolumntype{R}{>{$}r<{$}}
% Fontteja
% Aktivoidaan itse harjoituspohjan aluksi
% komennolla \fontfamily{put}\selectfont
\usepackage{fourier}
\usepackage{fontspec}
\setmainfont{Heuristica}
\setmonofont{DejaVu Sans Mono}
% Kuva-, taulukko- sun muut tekstit
\usepackage{caption}
\captionsetup{labelfont=bf}
\usepackage{csquotes}
% Hienompia listoja varten
\usepackage{enumitem}
% Boldattua matematiikkaa
\usepackage{bm}
% Symboleita symboleiden päälle
\usepackage{scalerel, stackengine}
% Todistuspuita
\usepackage{ebproof}
% Lähdeviitteet
\usepackage[backend=biber, sorting=none]{biblatex}
\addbibresource{sources.bib}
\usepackage{csquotes}

% ----- Komentoja -----

\NewDocumentCommand{\Nset}{}{\mathbb{N}}
\NewDocumentCommand{\Zset}{}{\mathbb{Z}}
\NewDocumentCommand{\Qset}{}{\mathbb{Q}}
\NewDocumentCommand{\Rset}{}{\mathbb{R}}
\NewDocumentCommand{\Cset}{}{\mathbb{C}}
\NewDocumentCommand{\Pset}{}{\mathbb{P}}
\NewDocumentCommand{\mult}{}{\times}
\NewDocumentCommand{\LK}{}{\textbf{LK}}
\NewDocumentCommand{\LJ}{}{\textbf{LJ}}
\NewDocumentCommand{\PA}{}{\textbf{PA}}
\NewDocumentCommand{\LN}{}{\textbf{L\(\mathbb{N}\)}}
\NewDocumentCommand{\limplies}{}{\supset}
\NewDocumentCommand{\corr}{}{%
    \mathrel{%
        \stackon[1.5pt]{=}{%
            \stretchto{%
                \scalerel*[\widthof{=}]{\wedge}{\rule{1ex}{3ex}}%
            }{0.5ex}%
        }%
    }%
}
\NewDocumentCommand{\seq}{}{\longrightarrow}
\NewDocumentCommand{\varof}{}{\sim}
\NewDocumentCommand{\IH}{}{\textrm{IH}}
% set of sets
\NewDocumentCommand{\sset}{m}{\mathcal{#1}}
\NewDocumentCommand{\LKsys}{O{\sset{A}}}{\LK_{#1}}
\NewDocumentCommand{\LJsys}{O{\sset{A}}}{\LJ_{#1}}
\NewDocumentCommand{\interp}{}{\mathcal{I}}
\NewDocumentCommand{\halt}{}{\textbf{halt}}
\NewDocumentCommand{\PRF}{}{\textbf{PRF}}
\NewDocumentCommand{\PRR}{}{\textbf{PRR}}
\NewDocumentCommand{\PRED}{}{\operatorname{PRED}}
\NewDocumentCommand{\SIGN}{}{\operatorname{SIGN}}
\NewDocumentCommand{\PERM}{}{\operatorname{PERM}}
\NewDocumentCommand{\CS}{}{\operatorname{CS}}
\NewDocumentCommand{\ADF}{}{\operatorname{ADF}}
\NewDocumentCommand{\num}{m}{\overline{#1}}
\NewDocumentCommand{\sub}{}{\operatorname{sub}}
\DeclareMathOperator*{\rank}{rank}
\DeclareMathOperator*{\maxrank}{max\,rank}
\DeclareMathOperator{\grade}{grade}
\DeclareMathOperator{\Prov}{Prov}
\NewDocumentCommand{\consis}{O{S}}{\overline{\operatorname{consis}}_{#1}}
\NewDocumentCommand\code{ m }{\texttt{#1}}

% ----- Rajoittimia -----
\DeclarePairedDelimiter{\set}{\{}{\}}
\DeclarePairedDelimiter{\arcs}{(}{)}
\DeclarePairedDelimiter{\angles}{\langle}{\rangle}
\DeclarePairedDelimiter{\tuple}{\langle}{\rangle}
\DeclarePairedDelimiter{\struct}{\langle}{\rangle}
\DeclarePairedDelimiter{\abs}{\rvert}{\lvert}
\DeclarePairedDelimiter{\Gnum}{\lceil}{\rceil}

% ----- Ympäristöjä -----
\theoremstyle{definition}
\newtheorem{example}{Example}[section]
\newtheorem{axiom}[example]{Axiom}
\newtheorem{definition}[example]{Definition}
\newtheorem{lemma}[example]{Lemma}
\newtheorem{theorem}[example]{Theorem}
\newtheorem{proposition}[example]{Proposition}
\newtheorem{exercise}{Exercise}[section]
\NewDocumentEnvironment{tabenv}{O{\textwidth}m}{%
    \medskip
    \begin{minipage}{#1}
    \centering
    \captionsetup{type=table}%
    \captionof{table}{#2}%
}{%
    \end{minipage}
    \medskip%
}
\NewDocumentEnvironment{figenv}{O{\textwidth}m}{%
    \medskip
    \begin{minipage}{#1}
    \dentering
    \captionsetup{type=figure}%
}{%
    \captionof{table}{#2}%
    \end{minipage}
    \medskip%
}

% ----- Numerointiasetuksia -----
\numberwithin{equation}{section}
\numberwithin{figure}{section}
\numberwithin{table}{section}

% PDF/A

\begin{filecontents}[overwrite]{\jobname.xmpdata}
\Title{\mycourse, \mytitle, \implementation}
\Author{\myauthor}
\Publisher{\myschool}
\Subject{\mysubject}
\end{filecontents}

\usepackage[a-3b,mathxmp]{pdfx}
\hypersetup{hidelinks}
\usepackage{url}
